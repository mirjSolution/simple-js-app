let pokemonRepository=function(){document.getElementById("loading").style.display="none";let e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=14";function n(e){(function(e){let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types}).catch(function(e){console.error(e)})})(e).then(function(){document.querySelector(".card-title").textContent=e.name,document.querySelector(".card-title").style.textTransform="capitalize",document.querySelector(".card-text").textContent="Height: "+e.height,document.querySelector(".list-group").classList.remove("d-none");let t=document.querySelector(".list-group");var n,o;t.innerHTML="",t.textContent="Types",document.querySelector("#modal-button").style.display="block",e.types.map(e=>{let t=document.querySelector(".list-group"),n=document.createElement("li");n.className="list-group-item",n.textContent=e.type.name,t.append(n)}),n=e.imageUrl,o=e.name,document.querySelector("#modal-button").addEventListener("click",()=>{let e=document.querySelector(".pokemon-image");e.src=n}),document.querySelector(".modal-title").textContent=o})}function o(){pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})})}return document.querySelector(".search-pokemon").addEventListener("keyup",function(e){const t=e.target.value.toLowerCase();document.querySelectorAll(".pokemon-list-items").forEach(function(e){const n=e.firstChild.textContent;-1!=n.toLowerCase().indexOf(t)?e.style.display="block":e.style.display="none"})}),document.querySelector(".search-pokemon").addEventListener("search",o),{getAll:function(){return e},addListItem:function(e){let t=document.querySelector(".pokemon-list"),o=document.createElement("li"),l=document.createElement("button");l.innerText=e.name,l.className="btn btn-secondary btn-block m-1",l.addEventListener("click",function(){n(e)}),o.className="pokemon-list-items",o.append(l),t.append(o)},loadList:function(){return document.getElementById("loading").style.display="block",document.querySelector(".card-pokemon-details").style.display="none",fetch(t).then(function(e){return e.json()}).then(function(t){t.results.forEach(function(t){!function(t){e.push(t)}({name:t.name,detailsUrl:t.url}),document.getElementById("loading").style.display="none",document.querySelector(".card-pokemon-details").style.display="block"})}).catch(function(e){document.querySelector("#loading").style.display="block",document.querySelector(".card-pokemon-details").style.display="none",console.error(e)})},getAllPokemon:o}}();pokemonRepository.getAllPokemon();
